<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>Sollong í†µí•© ê³„ì‚°ê¸°</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  body { font-family: 'Arial', sans-serif; margin: 30px auto; padding: 0 20px;
    background: linear-gradient(135deg, #0e0e1e, #1a0f2b); color: #e0e6f0; }
  .container { width: 100%; max-width: 1200px; margin: 0 auto; }
  .card { background: #1e1430; padding: 25px; border-radius: 18px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.6); border: 1px solid #8c7eff33; box-sizing: border-box; }
  .calculator-wrapper { display: flex; gap: 25px; }
  .input-column, .results-column { flex: 1; min-width: 0; }
  .results-column { background: #120c24; padding: 20px; border-radius: 15px; }
  .tabs { display: flex; margin-bottom: 25px; }
  .tab-button { flex: 1; padding: 12px 0; background: #120c24; border: 1px solid #8c7eff33;
    color: #c9d2e0; font-size: 17px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
  .tab-button:first-child { border-radius: 12px 0 0 12px; }
  .tab-button:last-child  { border-radius: 0 12px 12px 0; }
  .tab-button.active { background: linear-gradient(45deg, #8c7eff, #6a4ef7); color: #fff;
    box-shadow: 0 3px 10px rgba(140,126,255,0.4); }
  .tab-content, .result-content { display: none; }
  .tab-content.active, .result-content.active { display: block; }
  .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
  .input-group { border-top: 1px solid #8c7eff33; padding-top: 15px; }
  h2 { text-align: center; color: #8c7eff; margin: 10px 0 25px; text-shadow: 0 0 5px rgba(140,126,255,0.5); }
  label { display: block; margin-top: 15px; margin-bottom: 5px; font-weight: bold; color: #c9d2e0; }
  input[type="number"], select { width: 100%; padding: 12px 15px; border: 1px solid #8c7eff55;
    border-radius: 10px; background: #120c24; color: #e0e6f0; box-sizing: border-box; }
  .date-select-group { display: flex; gap: 10px; margin-top: 5px; }
  .promo-checkbox { display: flex; align-items: center; margin-top: 20px; padding: 10px;
    background: #120c24; border-radius: 8px; cursor: pointer; }
  .promo-checkbox input { width: 18px; height: 18px; margin-right: 12px; }
  button { display: block; text-align: center; margin-top: 30px; width: 100%; padding: 16px; 
    background: linear-gradient(45deg, #8c7eff, #6a4ef7); color: #fff; font-size: 18px; font-weight: bold; border: none; border-radius: 12px;
    cursor: pointer; transition: all 0.3s ease; }

 
  .result-section { margin-bottom: 0; padding: 20px; border-radius: 15px; border: 1px solid; }
  .result-title { font-weight: bold; font-size: 18px; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.1); }
  .result-item { margin: 10px 0; font-size: 16px; line-height: 1.5; word-break: keep-all; }
  .highlight { font-weight: bold; font-size: 1.05em; color: #5effc9; }
  .main-box { background:#1f1636; border-color: #4e8ef7; }
  .bonus-box { background:#2a1b42; border-color: #8c63ff; }
  .total-box { background:#202a3a; border-color: #2fd4b5; }
  .alert-box { padding: 15px; border-radius: 10px; font-weight: bold; text-align: center; grid-column: 1 / -1; margin-bottom: 0; }
  .alert-warning { background: #3a1a1a; color: #ff6b6b; border: 1px solid #ff4d4d; }
  .alert-success { background: #1a3a1a; color: #6bff6b; border: 1px solid #4dff4d; }

  /* ë³µë¦¬ ì „ëµ ë ˆì´ì•„ì›ƒ: ì™¼ìª½(2Ã—2 = ì´ˆê¸° ìƒí’ˆ) | ì˜¤ë¥¸ìª½(ì¬ì˜ˆì¹˜ ìš”ì•½) */
  #resultCompound.active { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 20px; }
  #compoundLeft  { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
  #compoundRight { display: grid; grid-template-columns: 1fr; gap: 16px; }
  @media (max-width: 1000px) {
    #resultCompound.active { grid-template-columns: 1fr; }
    #compoundLeft { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>
<div class="container">
  <div class="card">
    <div class="calculator-wrapper">
      <div class="input-column">
        <div class="tabs">
          <button class="tab-button active" data-tab="compound">RAM ë³µë¦¬ ì „ëµ</button>
          <button class="tab-button" data-tab="ram">RAM ê³„ì‚°ê¸°</button>
        </div>

        <!-- RAM ë³µë¦¬ ì „ëµ -->
        <div id="compoundTab" class="tab-content active">
          <h2>RAM ë³µë¦¬ ì „ëµ</h2>
          <div class="input-grid">
            <div class="input-group">
              <label for="compInitial">ì´ˆê¸° ìŠ¤í…Œì´í‚¹ ê¸ˆì•¡ (USDT):</label>
              <input type="number" id="compInitial" value="10001" />
              <label for="compDays">ì´ˆê¸° ìŠ¤í…Œì´í‚¹ ê¸°ê°„(ì¼):</label>
              <input type="number" id="compDays" value="120" />
              <label for="compStartMonth">ì‹œì‘ì¼ (2025ë…„):</label>
              <div class="date-select-group">
                <select id="compStartMonth"></select><select id="compStartDay"></select>
              </div>
              <label class="promo-checkbox">
                <input type="checkbox" id="applyCompPromoInitial" checked />
                <span>ì´ˆê¸° ì˜ˆì¹˜ì— í”„ë¡œëª¨ì…˜ ì ìš©</span>
              </label>
            </div>
            <div class="input-group">
              <label for="compHash">í•´ì‹œë ˆì´íŠ¸ êµ¬ê°„:</label>
              <select id="compHash">
                <option value="1">1M ~ 5M</option>
                <option value="1.05">5M ~ 8M</option>
                <option value="1.1025">8M ~ 16M</option>
                <option value="1.157625">16M ~ 25M</option>
                <option value="1.21550625">25M ~ 50M</option>
                <option value="1.27628157">50M+</option>
              </select>
              <label for="compThreshold">ì¬ì˜ˆì¹˜ íŠ¸ë¦¬ê±° (USDT):</label>
              <input type="number" id="compThreshold" value="1001" />
              <label for="compNewDays">ì¬ì˜ˆì¹˜ ê¸°ê°„(ì¼):</label>
              <input type="number" id="compNewDays" value="120" />
              <label class="promo-checkbox">
                <input type="checkbox" id="applyCompPromoReinvest" checked />
                <span>ì¬ì˜ˆì¹˜ì— í”„ë¡œëª¨ì…˜ ì ìš©</span>
              </label>
              <label for="compHorizon">ì‹œë®¬ë ˆì´ì…˜ ê¸°ê°„(ì¼):</label>
              <input type="number" id="compHorizon" value="2400" />
            </div>
          </div>
          <button id="btnCompound" type="button">ì‹œë®¬ë ˆì´ì…˜</button>
        </div>

        <!-- RAM ë‹¨ì¼ ê³„ì‚°ê¸°(ë¹„êµìš©) -->
        <div id="ramTab" class="tab-content">
          <h2>RAM ê³„ì‚°ê¸°</h2>
          <label for="invest">í• ë‹¹ ê¸ˆì•¡ (USDT):</label>
          <input type="number" id="invest" placeholder="ì˜ˆ: 5000" />
          <label for="days">í• ë‹¹ ê¸°ê°„ (ì¼):</label>
          <input type="number" id="days" placeholder="ì˜ˆ: 120" />
          <label for="ramStartMonth">ìŠ¤í…Œì´í‚¹ ì‹œì‘ì¼ (2025ë…„):</label>
          <div class="date-select-group">
            <select id="ramStartMonth"></select><select id="ramStartDay"></select>
          </div>
          <label for="hash">í•´ì‹œë ˆì´íŠ¸ êµ¬ê°„:</label>
          <select id="hash">
            <option value="1">1M ~ 5M</option>
            <option value="1.05">5M ~ 8M</option>
            <option value="1.1025">8M ~ 16M</option>
            <option value="1.157625">16M ~ 25M</option>
            <option value="1.21550625">25M ~ 50M</option>
            <option value="1.27628157">50M+</option>
          </select>
          <label class="promo-checkbox">
            <input type="checkbox" id="applyRamPromotion" />
            <span>RAM í”„ë¡œëª¨ì…˜ ì ìš©</span>
          </label>
          <button id="btnRam" type="button">ê³„ì‚°í•˜ê¸°</button>
        </div>
      </div>

      <!-- ê²°ê³¼ ì˜ì—­ -->
      <div class="results-column">
        <div id="resultCompound" class="result-content active">
          <div id="compoundLeft"></div>
          <div id="compoundRight"></div>
        </div>
        <div id="resultRam" class="result-content"></div>
      </div>
    </div>
  </div>
</div>

<script>
(function init() {
  if (document.readyState === 'loading') { document.addEventListener('DOMContentLoaded', init, { once:true }); return; }

  /* íƒ­ ì „í™˜ */
  const tabButtons = document.querySelectorAll('.tab-button');
  const inputContents = document.querySelectorAll('.input-column .tab-content');
  const resultContents = document.querySelectorAll('.results-column .result-content');
  tabButtons.forEach(btn=>{
    btn.addEventListener('click',()=>{
      const t=btn.dataset.tab;
      tabButtons.forEach(b=>b.classList.remove('active')); btn.classList.add('active');
      inputContents.forEach(c=>c.classList.remove('active')); resultContents.forEach(c=>c.classList.remove('active'));
      document.getElementById(t+'Tab').classList.add('active');
      const resultId='result'+t.charAt(0).toUpperCase()+t.slice(1);
      const el=document.getElementById(resultId); if(el) el.classList.add('active');
    });
  });

  /* ë‚ ì§œ ì…€ë ‰íŠ¸ */
  function populateDateSelects(monthSelect, daySelect, year) {
    if (!monthSelect||!daySelect) return;
    if (monthSelect.options.length===0) for(let i=1;i<=12;i++) monthSelect.add(new Option(`${i}ì›”`, i));
    function updateDays(){ daySelect.innerHTML=''; const m=parseInt(monthSelect.value,10);
      const d=isNaN(m)?31:new Date(year,m,0).getDate(); for(let i=1;i<=d;i++) daySelect.add(new Option(`${i}ì¼`,i)); }
    if (!monthSelect._bound){ monthSelect.addEventListener('change',updateDays); monthSelect._bound=true; }
    const today=new Date(); monthSelect.value=today.getMonth()+1; updateDays(); daySelect.value=today.getDate();
  }
  populateDateSelects(document.getElementById("ramStartMonth"), document.getElementById("ramStartDay"), 2025);
  populateDateSelects(document.getElementById("compStartMonth"), document.getElementById("compStartDay"), 2025);

  /* ìˆ˜ì‹ */
  const dayBonusTable = [
    {day:81,bonus:1},{day:161,bonus:1.01},{day:240,bonus:1.02},{day:320,bonus:1.03},{day:401,bonus:1.04},{day:480,bonus:1.05},
    {day:561,bonus:1.06},{day:641,bonus:1.07},{day:720,bonus:1.08},{day:801,bonus:1.09},{day:881,bonus:1.1},{day:960,bonus:1.11},
    {day:1041,bonus:1.12},{day:1121,bonus:1.13},{day:1200,bonus:1.14},{day:1281,bonus:1.15},{day:1361,bonus:1.16},{day:1440,bonus:1.17},
    {day:1521,bonus:1.18},{day:1601,bonus:1.19},{day:1680,bonus:1.2},{day:1761,bonus:1.21},{day:1841,bonus:1.22},{day:1920,bonus:1.23},
    {day:2001,bonus:1.24},{day:2081,bonus:1.25},{day:2160,bonus:1.26},{day:2241,bonus:1.27},{day:2320,bonus:1.28},{day:2399,bonus:1.29},{day:2400,bonus:1.3}
  ];
  function getDayBonus(d){ let b=1; for(const e of dayBonusTable){ if(d>=e.day) b=e.bonus; else break; } return b; }
  function getBaseRate(i){ if(i<1e3) return .005; if(i<5e3) return .0053; if(i<1e4) return .0055; return .0063; }
  function getBonusRate(i){ if(i<1e3) return 0; if(i<=5e3) return .0053; if(i<=1e4) return .00578; return .00693; }
  function getBonusRAM(i,d){ if(d<120||i<1e3) return 0; if(i<=5e3) return i*.1; if(i<=1e4) return i*.15; return i*.2; }

  const PROMO_START = new Date('2025-07-17');
  const PROMO_END   = new Date('2025-12-31');

  /* RAM ë‹¨ì¼ ê³„ì‚°ê¸° (ì°¸ê³ ìš©) */
  window.calculateRam = function() {
    const invest = parseFloat(document.getElementById("invest").value)||0;
    const days   = parseInt(document.getElementById("days").value)||0;
    const startMonth = document.getElementById("ramStartMonth").value;
    const startDay   = document.getElementById("ramStartDay").value;
    const hashBonus  = parseFloat(document.getElementById("hash").value)||1;
    const applyPromo = document.getElementById("applyRamPromotion").checked;
    const target = document.getElementById("resultRam");
    if (!invest||!days){ target.innerHTML="<div class='alert-box alert-warning'>ëª¨ë“  ê°’ì„ ì…ë ¥í•˜ì„¸ìš”.</div>"; return; }

    const startDate = new Date(`2025-${startMonth}-${startDay}`);
    const interestDays = Math.max(0, days-2);
    let mainRate = applyPromo && invest>=1000 && days>=120 ? getBonusRate(invest) : getBaseRate(invest);
    const dailyMain = invest * mainRate * hashBonus * getDayBonus(days);
    const totalMain = dailyMain * interestDays;
    let bonusAmt=0, dailyBonus=0, totalBonus=0, remainBonus=0;
    if (applyPromo && invest>=1000 && days>=120){
      bonusAmt = getBonusRAM(invest, days);
      dailyBonus = bonusAmt * getBonusRate(invest) * hashBonus * 1.3;
      totalBonus = dailyBonus * interestDays;
      remainBonus = dailyBonus * Math.max(0, 2400-days);
    }
    const alert = (invest/dailyMain>interestDays) ?
      "<div class='alert-box alert-warning'>ğŸ”” ë§Œê¸° ì „ì— ì›ê¸ˆ íšŒìˆ˜ê°€ ë¶ˆê°€í•©ë‹ˆë‹¤.</div>" :
      "<div class='alert-box alert-success'>âœ… ì›ê¸ˆ íšŒìˆ˜ ê°€ëŠ¥</div>";

    target.innerHTML = alert + `
      <div class="result-section main-box">
        <div class="result-title">[ë‚´ê°€ êµ¬ë§¤í•œ RAM]</div>
        <div class="result-item">íˆ¬ì ê¸ˆì•¡: <span class="highlight">${invest.toFixed(2)}</span> USDT</div>
        <div class="result-item">ì¼ì¼ ì´ì: <span class="highlight">${dailyMain.toFixed(2)}</span> USDT</div>
        <div class="result-item">ì´ ì´ì(${interestDays}ì¼): <span class="highlight">${totalMain.toFixed(2)}</span> USDT</div>
        <div class="result-item">ì›ê¸ˆ íšŒìˆ˜ ì˜ˆìƒ: <span class="highlight">ì•½ ${Math.ceil(invest/dailyMain)}ì¼</span></div>
      </div>
      <div class="result-section bonus-box">
        <div class="result-title">[í”„ë¡œëª¨ì…˜ ë³´ë„ˆìŠ¤ RAM]</div>
        <div class="result-item">ë³´ë„ˆìŠ¤ RAM: <span class="highlight">${bonusAmt.toFixed(2)}</span> USDT</div>
        <div class="result-item">ì¼ì¼ ì´ì: <span class="highlight">${dailyBonus.toFixed(2)}</span> USDT</div>
        <div class="result-item">ë§Œê¸°ì¼ê¹Œì§€ ì´ì: <span class="highlight">${totalBonus.toFixed(2)}</span> USDT</div>
        <div class="result-item">ë‚¨ì€ ê¸°ê°„ ì´ì(${Math.max(0,2400-days)}ì¼): <span class="highlight">${remainBonus.toFixed(2)}</span> USDT</div>
      </div>
      <div class="result-section total-box">
        <div class="result-title">[ì´ í•©ê³„]</div>
        <div class="result-item">ë§Œê¸°ì¼ê¹Œì§€ ë°›ëŠ” ì´ ì´ì(ìŠ¤í…Œì´í‚¹+ë³´ë„ˆìŠ¤): <span class="highlight">${(totalMain+totalBonus).toFixed(2)}</span> USDT</div>
      </div>
    `;
  };

  /* ===== RAM ë³µë¦¬ ì „ëµ ===== */
  window.simulateCompoundRam = function () {
    const initial = parseFloat(document.getElementById("compInitial").value) || 0;
    const initDays = parseInt(document.getElementById("compDays").value) || 0;
    const startMonth = document.getElementById("compStartMonth").value;
    const startDay   = document.getElementById("compStartDay").value;
    const hashBonus  = parseFloat(document.getElementById("compHash").value) || 1;
    const threshold  = Math.max(0, parseFloat(document.getElementById("compThreshold").value) || 1001);
    let   newStakeDays = parseInt(document.getElementById("compNewDays").value) || 120;
    const applyPromoInitial  = document.getElementById("applyCompPromoInitial").checked;
    const applyPromoReinvest = document.getElementById("applyCompPromoReinvest").checked;
    const horizon   = Math.max(1, parseInt(document.getElementById("compHorizon").value) || 2400);

    const startDate = new Date(`2025-${startMonth}-${startDay}`);
    if (!initial || !initDays || isNaN(startDate.getTime())) {
      document.getElementById("compoundLeft").innerHTML  = "<div class='alert-box alert-warning'>ì…ë ¥ê°’ì„ í™•ì¸í•˜ì„¸ìš”.</div>";
      document.getElementById("compoundRight").innerHTML = "";
      return;
    }
    if (applyPromoReinvest && newStakeDays < 120) newStakeDays = 120;

    function inPromoWindow(date){ return date >= PROMO_START && date <= PROMO_END; }

    // ì´ˆê¸° í¬ì§€ì…˜(ì´ˆê¸° ìƒí’ˆë§Œ ì™¼ìª½ì— í‘œì‹œ)
    const initPromo = applyPromoInitial && inPromoWindow(startDate) && initial >= 1000 && initDays >= 120;
    const initMainRate    = initPromo ? getBonusRate(initial)         : getBaseRate(initial);
    const initBonusAmount = initPromo ? getBonusRAM(initial, initDays): 0;
    const initBonusRate   = initPromo ? getBonusRate(initial)         : 0;

    // ---- ì¬ì˜ˆì¹˜ ì‹œë®¬ë ˆì´ì…˜ ----
    let wallet = 0;
    let reinvestedPrincipal = 0;
    let reinvestedBonusPrincipal = 0;
    let totalMainInterestRe = 0, totalBonusInterestRe = 0;
    let dailyMainNowRe = 0, dailyBonusNowRe = 0;
    let reinvestCount = 0;

    // ë³´ìœ  í¬ì§€ì…˜: ì´ˆê¸° ìƒí’ˆ + ì´í›„ ì¬ì˜ˆì¹˜ë“¤
    const positions = [{
      amount: initial,
      startDayIndex: 0,
      mainDays: initDays,
      mainRate: initMainRate,
      bonusAmount: initBonusAmount,
      bonusRate: initBonusRate
    }];

    for (let day = 0; day < horizon; day++) {
      let dayMainRe = 0, dayBonusRe = 0;

      // ê° í¬ì§€ì…˜ì—ì„œ ì˜¤ëŠ˜ ë°œìƒ ì´ì
      for (const p of positions) {
        const age = day - p.startDayIndex;
        if (age < 0) continue;

        // ë©”ì¸ ë‹¨ë¦¬: D+2 ~ mainDays-1
        if (age >= 2 && age < p.mainDays) {
          const v = p.amount * p.mainRate * hashBonus * getDayBonus(p.mainDays);
          // ì´ˆê¸° í¬ì§€ì…˜ì€ ì™¼ìª½ ì¹´ë“œì—ì„œë§Œ ë³´ì—¬ì£¼ë¯€ë¡œ ì¬ì˜ˆì¹˜ ì§‘ê³„ì—ëŠ” í¬í•¨í•˜ì§€ ì•ŠìŒ
          if (p.startDayIndex !== 0) dayMainRe += v;
          wallet += v; // ì§€ê°‘ì— ëª¨ìŒ
        }
        // ë³´ë„ˆìŠ¤ ë‹¨ë¦¬: D+2 ~ 2400-1
        if (p.bonusAmount > 0 && age >= 2 && age < 2400) {
          const v = p.bonusAmount * p.bonusRate * hashBonus * 1.3;
          if (p.startDayIndex !== 0) dayBonusRe += v;
          wallet += v;
        }
      }

      totalMainInterestRe  += dayMainRe;
      totalBonusInterestRe += dayBonusRe;

      // ì¬ì˜ˆì¹˜: ê°™ì€ ë‚ ì—ë„ threshold ì—¬ëŸ¬ ë²ˆ ì¶©ì¡±í•˜ë©´ ì—¬ëŸ¬ ê±´ ìƒì„±
      const subscribeDate = new Date(startDate); subscribeDate.setDate(startDate.getDate() + day);
      while (wallet >= threshold) {
        const stakeAmt = threshold; // ë™ì¼ ê¸ˆì•¡ ë°˜ë³µ
        wallet -= threshold;

        const promoOk = applyPromoReinvest && inPromoWindow(subscribeDate) && stakeAmt >= 1000 && newStakeDays >= 120;
        const mainRateNew  = promoOk ? getBonusRate(stakeAmt) : getBaseRate(stakeAmt);
        const bonusAmtNew  = promoOk ? getBonusRAM(stakeAmt, newStakeDays) : 0;
        const bonusRateNew = promoOk ? getBonusRate(stakeAmt) : 0;

        positions.push({
          amount: stakeAmt, startDayIndex: day,
          mainDays: newStakeDays, mainRate: mainRateNew,
          bonusAmount: bonusAmtNew, bonusRate: bonusRateNew
        });

        reinvestedPrincipal += stakeAmt;
        reinvestedBonusPrincipal += bonusAmtNew;
        reinvestCount++;
      }
    }

    // ì˜¤ëŠ˜(ì‹œë®¬ë ˆì´ì…˜ ë§ˆì§€ë§‰ ë‚ ) ìŠ¤ëƒ…ìƒ·: ì¬ì˜ˆì¹˜ í¬ì§€ì…˜ì˜ 1ì¼ ì´ì
    const todayIndex = horizon - 1;
    for (const p of positions) {
      if (p.startDayIndex === 0) continue; // ì´ˆê¸° ì œì™¸
      const age = todayIndex - p.startDayIndex;
      if (age >= 2 && age < p.mainDays) {
        dailyMainNowRe += p.amount * p.mainRate * hashBonus * getDayBonus(p.mainDays);
      }
      if (p.bonusAmount > 0 && age >= 2 && age < 2400) {
        dailyBonusNowRe += p.bonusAmount * p.bonusRate * hashBonus * 1.3;
      }
    }

    // ---- ì™¼ìª½ 2Ã—2: ì´ˆê¸° ìƒí’ˆ(ì›ë˜ ìƒí’ˆ) ê²°ê³¼ ----
    const today = new Date();
    const diffDaysInit   = Math.max(0, Math.floor((today - startDate) / (1000*60*60*24)));
    const remainDaysInit = Math.max(0, initDays - diffDaysInit);
    const interestDaysInit = Math.max(0, initDays - 2);

    const dailyMainInit = initial * initMainRate * hashBonus * getDayBonus(initDays);
    const totalMainInit = dailyMainInit * interestDaysInit;
    const sofarMainInit = dailyMainInit * Math.max(0, Math.min(diffDaysInit - 2, interestDaysInit));
    const recovDaysInit = initial > 0 ? initial / dailyMainInit : 0;

    const dailyBonusInit = initBonusAmount > 0 ? initBonusAmount * initBonusRate * hashBonus * 1.3 : 0;
    const totalBonusInitToMaturity = dailyBonusInit * interestDaysInit;
    const remainBonusInitAfterMaturity = dailyBonusInit * Math.max(0, 2400 - initDays);
    const sofarBonusInit = initBonusAmount > 0 ? dailyBonusInit * Math.max(0, Math.min(diffDaysInit - 2, 2400)) : 0;

    const leftHtml = `
      <div class="result-section main-box">
        <div class="result-title">[ì´ˆê¸° ìƒí’ˆ - ë©”ì¸]</div>
        <div class="result-item">ê¸ˆì•¡/ê¸°ê°„: <span class="highlight">${initial.toFixed(2)} USDT / ${initDays}ì¼</span></div>
        <div class="result-item">í”„ë¡œëª¨ì…˜: <span class="highlight">${initPromo ? 'ì ìš©' : 'ë¯¸ì ìš©'}</span></div>
        <div class="result-item">ì¼ì¼ ì´ì: <span class="highlight">${dailyMainInit.toFixed(2)}</span> USDT</div>
        <div class="result-item">ì´ ì´ì(${interestDaysInit}ì¼): <span class="highlight">${totalMainInit.toFixed(2)}</span> USDT</div>
        <div class="result-item">ì›ê¸ˆ íšŒìˆ˜ ì˜ˆìƒ: <span class="highlight">ì•½ ${Math.ceil(recovDaysInit)}ì¼</span></div>
      </div>

      <div class="result-section bonus-box">
        <div class="result-title">[ì´ˆê¸° ìƒí’ˆ - ë³´ë„ˆìŠ¤]</div>
        <div class="result-item">ë³´ë„ˆìŠ¤ RAM: <span class="highlight">${initBonusAmount.toFixed(2)}</span> USDT</div>
        <div class="result-item">ì¼ì¼ ì´ì: <span class="highlight">${dailyBonusInit.toFixed(2)}</span> USDT</div>
        <div class="result-item">ë§Œê¸°ê¹Œì§€ ì´ì(${interestDaysInit}ì¼): <span class="highlight">${totalBonusInitToMaturity.toFixed(2)}</span> USDT</div>
        <div class="result-item">ë§Œê¸° ì´í›„ ë‚¨ì€ ì´ì(${Math.max(0,2400-initDays)}ì¼): <span class="highlight">${remainBonusInitAfterMaturity.toFixed(2)}</span> USDT</div>
      </div>

      <div class="result-section total-box">
        <div class="result-title">[ì´ˆê¸° ìƒí’ˆ - í•©ê³„]</div>
        <div class="result-item">ì˜¤ëŠ˜ 1ì¼ ì´ ì´ì(ë©”ì¸+ë³´ë„ˆìŠ¤): <span class="highlight">${(dailyMainInit+dailyBonusInit).toFixed(2)}</span> USDT</div>
        <div class="result-item">ë§Œê¸°ê¹Œì§€ ì´ ì´ì(ë©”ì¸+ë³´ë„ˆìŠ¤): <span class="highlight">${(totalMainInit+totalBonusInitToMaturity).toFixed(2)}</span> USDT</div>
        <div class="result-item">ë§Œê¸° ì´í›„ ë³´ë„ˆìŠ¤ ì´ì: <span class="highlight">${remainBonusInitAfterMaturity.toFixed(2)}</span> USDT</div>
      </div>

      <div class="result-section total-box">
        <div class="result-title">[ì§„í–‰ ìƒí™©]</div>
        <div class="result-item">ê²½ê³¼/ì”ì—¬: <span class="highlight">${diffDaysInit}</span>ì¼ ê²½ê³¼ / <span class="highlight">${remainDaysInit}</span>ì¼ ë‚¨ìŒ</div>
        <div class="result-item">í˜„ì¬ê¹Œì§€ ë°›ì€ ì´ì(ë©”ì¸/ë³´ë„ˆìŠ¤): <span class="highlight">${sofarMainInit.toFixed(2)} / ${sofarBonusInit.toFixed(2)}</span> USDT</div>
      </div>
    `;

    // ---- ì˜¤ë¥¸ìª½: ì¬ì˜ˆì¹˜ ìš”ì•½ ----
    const rightHtml = `
      <div class="result-section main-box">
        <div class="result-title">[ì¬ì˜ˆì¹˜ ìš”ì•½]</div>
        <div class="result-item">ì¬ì˜ˆì¹˜ íšŸìˆ˜: <span class="highlight">${reinvestCount}</span> íšŒ</div>
        <div class="result-item">ì¬ì˜ˆì¹˜ ì´ ì›ê¸ˆ: <span class="highlight">${reinvestedPrincipal.toFixed(2)}</span> USDT</div>
        <div class="result-item">ë³´ë„ˆìŠ¤ RAM ì´í•©: <span class="highlight">${reinvestedBonusPrincipal.toFixed(2)}</span> USDT</div>
        <div class="result-item">ì˜¤ëŠ˜ 1ì¼ ì´ì(ì¬ì˜ˆì¹˜): <span class="highlight">${(dailyMainNowRe+dailyBonusNowRe).toFixed(2)}</span> USDT</div>
        <div class="result-item">ëˆ„ì  ì´ì(ì¬ì˜ˆì¹˜): <span class="highlight">${(totalMainInterestRe+totalBonusInterestRe).toFixed(2)}</span> USDT</div>
        <div class="result-item">ì§€ê°‘ ì”ì•¡(ë¯¸ì¬ì˜ˆì¹˜ ì´ì): <span class="highlight">${wallet.toFixed(2)}</span> USDT</div>
      </div>
    `;

    document.getElementById("compoundLeft").innerHTML  = leftHtml;
    document.getElementById("compoundRight").innerHTML = rightHtml;
  };

  // ë²„íŠ¼ ë°”ì¸ë”©
  document.getElementById('btnCompound').addEventListener('click', () => { try { simulateCompoundRam(); } catch(e){ console.error(e); } });
  document.getElementById('btnRam').addEventListener('click', () => { try { calculateRam(); } catch(e){ console.error(e); } });
})();
</script>
</body>
</html>
